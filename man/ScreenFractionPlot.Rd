% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/30-OverviewVisuailze.R
\name{ScreenFractionPlot}
\alias{ScreenFractionPlot}
\title{Visualization of Cell Screening Fractions}
\usage{
ScreenFractionPlot(
  screened_seurat,
  group_by = "Source",
  screen_type = c("scissor", "scPAS", "scPP", "scAB"),
  show_null = FALSE,
  plot_color = NULL,
  show_plot = TRUE,
  plot_title = "Screen Fraction",
  stack_width = 0.85,
  x_text_angle = 45,
  axis_linewidth = 0.8,
  legend_position = "right"
)
}
\arguments{
\item{screened_seurat}{A Seurat object containing screening results in metadata.
Must contain columns corresponding to \code{screen_type}.}

\item{group_by}{Metadata column name for grouping samples (default: "Source").}

\item{screen_type}{Screening algorithm used. Must match a metadata column
(case-sensitive, e.g., "scissor" for Scissor results).}

\item{show_null}{Logical whether to show groups with zero cells (default: FALSE).}

\item{plot_color}{Custom color palette (named vector format):
- Required names: "Positive", "Negative", "Neutral"
- Default: c("Neutral"="#CECECE", "Positive"="#ff3333", "Negative"="#386c9b")}

\item{show_plot}{Logical to immediately display plot (default: TRUE).}

\item{plot_title}{Plot title (default: "Screen Fraction").}

\item{stack_width}{Bar width (default: 0.85).}

\item{x_text_angle}{X-axis label angle (default: 45).}

\item{axis_linewidth}{Axis line thickness (default: 0.8).}

\item{legend_position}{Legend position (default: "right").}

\item{x_lab}{X-axis label (default: NULL).}

\item{y_lab}{Y-axis label (default: "Status Fraction")}
}
\value{
A list containing:
\itemize{
\item{stats: A data frame with screening statistics including:
\itemize{
\item Grouping variable counts
\item Raw cell counts
\item Percentage fractions
}
}
\item{plot: A ggplot2 object of the stacked bar plot}
}
}
\description{
Generates stacked bar plots showing the proportion of cells classified as
Positive/Negative/Neutral by single-cell screening algorithms (Scissor, scPAS,
scPP, or scAB) across different sample groups.
}
\section{Visualization Details}{

\itemize{
\item Bars are ordered by descending Positive fraction
\item Y-axis shows percentage (0-100\%)
\item Zero-fraction groups are automatically hidden unless \code{show_null=TRUE}
}
}

\examples{
\dontrun{
# Basic usage with Scissor results
res <- ScreenFractionPlot(
  screened_seurat = scissor_result,
  group_by = "PatientID",
  screen_type = "scissor"
)

# Customized plot
custom_plot <- ScreenFractionPlot(
  screened_seurat = scAB_result,
  group_by = "TissueType",
  screen_type = "scAB",
  plot_color = c("Positive"="red", "Negative"="blue", "Neutral"="grey80"),
  plot_title = "scAB Screening Results",
  x_text_angle = 90
)
}

}
